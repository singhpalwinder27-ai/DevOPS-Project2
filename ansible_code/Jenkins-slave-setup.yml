---
 - name: to setup jenkins slave
   hosts: Jenkins-Slave
   become: true
   tasks:
     - name: install java 21
       yum: 
         name: java-21-amazon-corretto
         state: present

     - name: download maven package
       get_url:
         url: https://dlcdn.apache.org/maven/maven-3/3.9.12/binaries/apache-maven-3.9.12-bin.tar.gz
         dest: /opt

     - name: extract the maven package
       unarchive: 
         src: /opt/apache-maven-3.9.12-bin.tar.gz
         dest: /opt
         remote_src: yes

     - name: install git
       yum:
         name: git
         state: present
       tags: install_git

     - name: check git version
       shell: git --version
       tags: Check git version
       register: git_version

     - name: print git version
       debug: 
         msg: "{{ git_version.stdout }}"
       tags: install_git
    

     